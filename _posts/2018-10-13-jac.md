---
layout:     post
title:      jira.atlassian.com の歩き方
date:       2018-10-13 08:00:00
author:     岡本 悠希
summary:    jira.atlassian.com 上のバグレポート、機能リクエストの調べ方について書きました。
categories: Atlassian
thumbnail:  search
minutes:    10
series:     
tags:
---

## はじめに

Atlassian では、製品への新機能追加や不具合の修正が以下のポリシーに基づいて実施されており、一つ一つの機能リクエストやバグレポートについては jira.atlassian.com (通称 : JAC) と呼ばれる Jira インスタンス上で管理されている。

- [新機能の実装ポリシー](https://confluence.atlassian.com/jpns/%E6%97%A5%E6%9C%AC%E8%AA%9E%E3%82%B5%E3%83%9D%E3%83%BC%E3%83%88%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6/%E6%96%B0%E6%A9%9F%E8%83%BD%E3%81%AE%E5%AE%9F%E8%A3%85%E3%83%9D%E3%83%AA%E3%82%B7%E3%83%BC)
- [アトラシアンのバグ修正ポリシー](https://confluence.atlassian.com/jpns/%E6%97%A5%E6%9C%AC%E8%AA%9E%E3%82%B5%E3%83%9D%E3%83%BC%E3%83%88%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6/%E3%82%A2%E3%83%88%E3%83%A9%E3%82%B7%E3%82%A2%E3%83%B3%E3%81%AE%E3%83%90%E3%82%B0%E4%BF%AE%E6%AD%A3%E3%83%9D%E3%83%AA%E3%82%B7%E3%83%BC)

JAC はインターネット上に公開されているため、誰でも自由に機能リクエストやバグレポートへアクセスし、その気になればチケット上に思いの丈をコメントとして綴ることも可能である。[^1]
さらに面白い点としては、機能リクエストに対してはコメントの他に **投票** を行うことも可能であり、リクエストへの投票数も実装される新機能を決める上での断材料となる。[^2]

このような形で利用されている JAC だが、現職では Atlassian 製品の仕様や不具合についての質問を受けることが多いため、JAC 上に存在する約 24 万件強 [^3] のチケットの中から、如何に素早く適切な機能リクエストやバグレポートを見つけられるかが重要になってくる。

Atlassian の技術サポートのエンジニアは、（おそらく）本記事の読者の方々の想像よりもはるかに速いスピードで、狙った JAC 上のチケットを見つけ出すことができる。（と、若干煽ってみる。）ただ、それは製品知識や Atlassian の社内情報のみに頼ったものではなく、誰もが明日から実践できるような些細なテクニックの積み重ねによって実現されていることを、本記事でお伝えできればと思う。

## 目標

本記事では、以下の 2 点を目標としている。

1. JAC 上に存在するチケットの検索スピードの向上
2. JAC に限らない、一般的な Jira チケットの検索スピードの向上

## JAC の検索術

これから紹介する話は、どれもが JAC 上に存在するチケットを効率良く検索するための手段となっているが、中には JAC に限らず Jira インスタンス一般に使用できるものも含まれている。もし読者ご自身の会社や団体でも Jira をご使用いただいている場合には、是非そちらでも活用していただければと思う。

### 其の一 : 敢えて Jira の検索機能を使用しない

JAC が Jira インスタンスである以上、Jira 自体の検索機能を使用してチケットを探さなければならないと考えてはいないだろうか？

もちろん、Jira そのものが提供する [検索機能](https://ja.confluence.atlassian.com/jiracoreserver/searching-for-issues-939937657.html) は非常に強力ではあるが、それはどちらかというと構造化された情報の検索についての話である。
ここで言う構造化された情報とは、Jira のチケットに紐づくプロジェクト情報、チケットの種類、ステータス、担当者、作成日などを指して言っているが、例えばそれらの情報を上手く活用して「**JRASERVER** プロジェクトに、**2018/10/13** 以降に作成された、ステータスが **Resolve**」となっているチケットを探す、等といった場合には Jira の検索機能は有用である。

一方で、これらの情報をきちんと活用して JAC 内のチケットを検索することが、一般の製品ユーザーには若干難しいケースも存在する。例えば、使用している Jira アプリケーション上で何らかの不具合を見つけて、それが既知のものかどうかをチェックする目的で JAC 上のバグレポートを検索する場合にも、現状で JAC 上には Jira に関連するプロジェクトだけで JRASERVER, JRACLOUD, JSWSERVER, JSWCLOUD, JSDSERVER, JSDCLOUD, JPOSERVER, JPOCLOUD, JOPSCLOUD, BON の 10 個ものプロジェクトが存在する。 [^4]
また、不具合が Jira の内部で使用されている特定のプラグインに起因する場合には、更に別のプロジェクトにバグレポートが起票されるケースもなども存在する。
そういった中で、いきなり JAC の検索機能を使用して、プロジェクトを限定して検索を行ってしまうと、見つけたいバグレポートがそのプロジェクト内に存在しなかった場合に、永遠にそのバグレポートに辿り着けいないリスクが生まれてしまう。

これらを踏まえた上で、一番敷居が低いのが [フリーテキストでの検索機能](https://ja.confluence.atlassian.com/jiracoreserver/search-syntax-for-text-fields-939937723.html) を使用する方法になるかと思うが、ここで問題となるのが **英語** である。

基本的には、JAC 上のチケットは全て英語で記載されているため、テキストで検索する場合にも英語のキーワードを使用する必要がある。そんな中、私もネイティブでは無いことから若干苦労するのが、チケット内で使用されている微妙な言い回しの違いである。

過去に、私が何らかの製品で日本語が文字化けする不具合を JAC 上で調査していた時のこと。当時の私は、**文字化け = garble** という翻訳は知っていたが、なかなか目的のバグレポートに辿りつくことができなかった。結論から言うと、目的としていたバグレポートの中では文字化けという意味合いで **"mangle"** という単語が使用されていたため、Jira のテキスト検索にひっかからなかった。

Jira のテキスト検索機能では、[形態素解析](https://ja.wikipedia.org/wiki/%E5%BD%A2%E6%85%8B%E7%B4%A0%E8%A7%A3%E6%9E%90) により単語の活用の変化 (e.g. mangle ↔ mangled, garble ↔ garbled) などは考慮して検索を行ってくれるが、意味レベルで近い単語を類推してくれる程には賢くはない。そういった意味でも、ネイティブではない言語で（もしくはネイティブな言語でも）、Jira のテキスト検索機能を完璧に使いこなすのはなかなか難しかったりする。

ここで思い出していただきたいのが、JAC は **インターネット** 上に公開されていて、インターネットの検索にはもちろん [Google 検索](https://www.google.co.jp) が使用できるということだ。 [^5] 具体的にやることとしては、以下のように Google 検索を行う際に "site:jira.atlassian.com" のキーワードを含めて検索対象のドメインを絞るだけである。

![jira.atlassian.com にドメインを絞った Google 検索](http://drive.google.com/uc?export=view&id=1Z8eA6edRFa216jS5Jabxua63AC4OXOF3){: .blog-image style="width: 80%;"}
jira.atlassian.com にドメインを絞った Google 検索
{: .blog-image-caption}

上記方法での検索は、Jira 自体が提供するフリーテキスト検索と比べて以下のようなメリットがある。

- 通常の Google 検索同様、キーワードのあいまいさを許容した検索が可能となる
- Google のランキングアルゴリズムの恩恵により、世の中で多く参照されているチケットには特にたどり着き易い

もちろん、目的とするチケットがすでに Google の検索エンジンにクローリングされているかどうかなども関係してくるため、必ずしもベストな方法とは言えないが、普段あまり JAC を訪れることの無い方々にとっては、比較的 ROI の高い手段だと考えている。（私自身、JAC 上のチケットを調査する際の最初のステップとして、まずはこの手段を利用することが多い。）

## おわりに

[^1]: JAC チケットへのコメントには、無償で作成が可能な [Atlassian Account](https://ja.confluence.atlassian.com/jpns/faq/atlassian) が必要。
[^2]: [新機能の実装ポリシー](https://confluence.atlassian.com/jpns/%E6%97%A5%E6%9C%AC%E8%AA%9E%E3%82%B5%E3%83%9D%E3%83%BC%E3%83%88%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6/%E6%96%B0%E6%A9%9F%E8%83%BD%E3%81%AE%E5%AE%9F%E8%A3%85%E3%83%9D%E3%83%AA%E3%82%B7%E3%83%BC) にも記載があるように、投票数のみで実装される新機能が決定されるわけでは無い点にはご注意いただきたい。
[^3]: 2018/10/12 22:00 現時点で、外部に公開されているチケット数。
[^4]: 2018/10/12 22:00 現時点 のプロジェクト数。なお、[アトラシアン製品のバグ報告と機能リクエストをより適切に](https://japan.blogs.atlassian.com/2017/04/jacchange_jpnresource/) のブログに記載があるように、2017 年時点でサーバー製品・クラウド製品に関する機能リクエスト・バグレポートは、それぞれ別プロジェクトとして扱われるように変更が行われた。
[^5]: 厳密には、Google の検索エンジンのクローラからのアクセスを許可している場合に限る。
